fetch("/src/js/functions/users.json").then((function(t){return t.json()})).then((function(t){for(var e=document.getElementById("post-container"),n=function(t){t.sort((function(){return Math.random()-.5}));for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),o=[t[n],t[e]];t[e]=o[0],t[n]=o[1]}return t}(t),o=function(t){n.forEach((function(n){n.videoSources.forEach((function(o){if(o.index==t){var i=document.createElement("div");i.className="post",i.innerHTML='\n\t\t\t\t\t\t<div class="post-info">\n\t\t\t\t\t\t<div class="user">\n\t\t\t\t\t\t\t    <img src="'.concat(n.avatar,'" alt="avatar">\n\t\t\t\t\t\t\t<div>\n                                <h6>').concat(n.userName,"</h6>\n                                <p>").concat(n.game[n.videoSources.indexOf(o)],"</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button>").concat(n.friend?"Add+":"Friend",'</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="post-content">\n\t\t\t\t\t\t<video class="video-style" controls loop disablepictureinpicture controlslist="nodownload noplaybackrate">\n\t\t\t\t\t\t\t<source src="').concat(o.src,'" type="video/mp4">\n\t\t\t\t\t\t</video>\n\t\t\t\t\t\t<div class="video-icons">\n\t\t\t\t\t\t\t<a href="#"><i class="fas fa-heart fa-lg"></i><span>').concat(n.likes[n.videoSources.indexOf(o)],'</span></a>\n\t\t\t\t\t\t\t<a href="#"><i class="fas fa-comment-dots fa-lg"></i><span>').concat(n.comments[n.videoSources.indexOf(o)],'</span></a>\n\t\t\t\t\t\t\t<a href="#"><i class="fas fa-share fa-lg"></i> <span>').concat(n.shares[n.videoSources.indexOf(o)],"</span></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),e.appendChild(i),i.querySelector("button").addEventListener("click",(function(){this.classList.contains("friend")?(this.classList.remove("friend"),this.textContent="Add+",n.friend=!1):(this.classList.add("friend"),n.friend=!0,this.textContent="Friend")})),i.querySelector(".fa-heart").addEventListener("click",(function(){var t=i.querySelector("span"),e=n.likes[n.videoSources.indexOf(o)];this.classList.contains("blue-heart")?(n.likes[n.videoSources.indexOf(o)]=parseInt(e)-1,t.textContent=n.likes[n.videoSources.indexOf(o)],this.classList.remove("blue-heart")):(n.likes[n.videoSources.indexOf(o)]=parseInt(e)+1,t.textContent=n.likes[n.videoSources.indexOf(o)],this.classList.add("blue-heart"))}));var r=i.querySelector(".fa-share");r.addEventListener("click",(function(){var t=window.location.href;navigator.clipboard.writeText(t).then((function(){alert("Link copied to clipboard!"),r.style.color="var(--blue)"}),(function(){alert("Unable to copy link to clipboard")}))})),i.querySelector(".fa-comment-dots").addEventListener("click",(function(){document.querySelector("#commentSection").removeAttribute("hidden")}));var c=i.querySelector(".user div");c.querySelector(".user h6").addEventListener("click",(function(){window.location.href="/public/UserProfile.html?username=".concat(n.userName)})),c.querySelector(".user p").addEventListener("click",(function(){window.location.href="/public/Game-Video.html?gameName=".concat(n.game[n.videoSources.indexOf(o)])})),e.appendChild(i);var s=i.querySelector(".video-style"),a=!1;new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&!a?(s.play(),a=!0):!t.isIntersecting&&a&&(s.pause(),a=!1)}))}),{root:null,rootMargin:"0px",threshold:[.4,.6]}).observe(s)}}))}))},i=0;i<5;i++)o(i)})).catch((function(t){return console.error(t)}));