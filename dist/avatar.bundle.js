(()=>{var e=document.getElementById("file-input"),t=document.getElementById("profile-pic"),n=document.querySelector(".container"),a=document.getElementById("cancel-btn"),r=document.querySelector(".buttons .btn:not(#cancel-btn)"),c=null;t.getAttribute("src")&&"#"!==t.getAttribute("src")||(n.style.backgroundColor="#ffffff",t.setAttribute("src","default.jpg")),t.addEventListener("click",(function(){e.click()})),e.addEventListener("change",(function(){var a=e.files[0],r=new FileReader;r.addEventListener("load",(function(){t.setAttribute("src",r.result),n.style.backgroundColor="transparent",c=a})),a&&r.readAsDataURL(a)})),a.addEventListener("click",(function(e){e.preventDefault(),t.setAttribute("src","upload.png")})),r.addEventListener("click",(function(e){if(e.preventDefault(),"upload.png"!==t.getAttribute("src")){var n=document.createElement("canvas"),a=n.getContext("2d"),r=new Image;r.onload=function(){n.width=r.width,n.height=r.height,a.clearRect(0,0,n.width,n.height),a.drawImage(r,0,0),document.body.appendChild(n);var e=n.toDataURL("image/png");localStorage.setItem("avatar",e),localStorage.setItem("avatarSelected","user"),window.location.href="/public/Homepage.html"},r.src=URL.createObjectURL(c)}else alert("Please upload a profile picture")}))})();